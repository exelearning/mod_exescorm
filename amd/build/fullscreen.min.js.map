{"version":3,"file":"fullscreen.min.js","sources":["../src/fullscreen.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n *\n * @author  2021 3iPunt <https://www.tresipunt.com/>\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\n\ndefine([\n        'jquery',\n        'core/str',\n        'core/ajax',\n        'core/templates'\n    ], function($, Str, Ajax, Templates) {\n        \"use strict\";\n        /**\n         * @constructor\n         */\n        function Fullscreen() {\n             $('#toggleFullscreen').on('click', this.toggleFullScreen.bind(this));\n             document.addEventListener('fullscreenchange', this.changeFullScreen, false);\n             document.addEventListener('mozfullscreenchange', this.changeFullScreen, false);\n             document.addEventListener('MSFullscreenChange', this.changeFullScreen, false);\n             document.addEventListener('webkitfullscreenchange', this.changeFullScreen, false);\n        }\n\n        Fullscreen.prototype.changeFullScreen = function(e) {\n            let btnToggle = document.getElementById('toggleFullscreen');\n            let page = document.getElementById('exescormpage');\n\n            if (page.classList.contains('fullscreen')) {\n                btnToggle.classList.remove('actived');\n                page.classList.remove('fullscreen');\n            } else {\n                btnToggle.classList.add('actived');\n                page.classList.add('fullscreen');\n            }\n        };\n\n        Fullscreen.prototype.toggleFullScreen = function(e) {\n\n            if (document.fullscreenElement ||\n                document.webkitFullscreenElement ||\n                document.mozFullScreenElement ||\n                document.msFullscreenElement) {\n                if (document.exitFullscreen) {\n                    document.exitFullscreen();\n                } else if (document.mozCancelFullScreen) {\n                    document.mozCancelFullScreen();\n                } else if (document.webkitExitFullscreen) {\n                    document.webkitExitFullscreen();\n                } else if (document.msExitFullscreen) {\n                    document.msExitFullscreen();\n                }\n            } else {\n                var element = $('#exescormpage')[0];\n                if (element.requestFullscreen) {\n                    element.requestFullscreen();\n                } else if (element.mozRequestFullScreen) {\n                    element.mozRequestFullScreen();\n                } else if (element.webkitRequestFullscreen) {\n                    element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n                } else if (element.msRequestFullscreen) {\n                    element.msRequestFullscreen();\n                }\n            }\n\n        };\n\n        /** @type {jQuery} The jQuery node for the region. */\n        Fullscreen.prototype.node = null;\n\n        return {\n            /**\n             * @return {Fullscreen}\n             */\n            init: function() {\n                return new Fullscreen();\n            }\n        };\n    }\n);\n"],"names":["define","$","Str","Ajax","Templates","Fullscreen","on","this","toggleFullScreen","bind","document","addEventListener","changeFullScreen","prototype","e","btnToggle","getElementById","page","classList","contains","remove","add","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","element","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","node","init"],"mappings":";;;;;AAwBAA,oCAAO,CACC,SACA,WACA,YACA,mBACD,SAASC,EAAGC,IAAKC,KAAMC,oBAKbC,aACJJ,EAAE,qBAAqBK,GAAG,QAASC,KAAKC,iBAAiBC,KAAKF,OAC9DG,SAASC,iBAAiB,mBAAoBJ,KAAKK,kBAAkB,GACrEF,SAASC,iBAAiB,sBAAuBJ,KAAKK,kBAAkB,GACxEF,SAASC,iBAAiB,qBAAsBJ,KAAKK,kBAAkB,GACvEF,SAASC,iBAAiB,yBAA0BJ,KAAKK,kBAAkB,UAGhFP,WAAWQ,UAAUD,iBAAmB,SAASE,OACzCC,UAAYL,SAASM,eAAe,oBACpCC,KAAOP,SAASM,eAAe,mBAE/BC,KAAKC,UAAUC,SAAS,eACxBJ,UAAUG,UAAUE,OAAO,WAC3BH,KAAKC,UAAUE,OAAO,gBAEtBL,UAAUG,UAAUG,IAAI,WACxBJ,KAAKC,UAAUG,IAAI,gBAI3BhB,WAAWQ,UAAUL,iBAAmB,SAASM,MAEzCJ,SAASY,mBACTZ,SAASa,yBACTb,SAASc,sBACTd,SAASe,oBACLf,SAASgB,eACThB,SAASgB,iBACFhB,SAASiB,oBAChBjB,SAASiB,sBACFjB,SAASkB,qBAChBlB,SAASkB,uBACFlB,SAASmB,kBAChBnB,SAASmB,uBAEV,KACCC,QAAU7B,EAAE,oBAAoB,GAChC6B,QAAQC,kBACRD,QAAQC,oBACDD,QAAQE,qBACfF,QAAQE,uBACDF,QAAQG,wBACfH,QAAQG,wBAAwBC,QAAQC,sBACjCL,QAAQM,qBACfN,QAAQM,wBAOpB/B,WAAWQ,UAAUwB,KAAO,KAErB,CAIHC,KAAM,kBACK,IAAIjC"}